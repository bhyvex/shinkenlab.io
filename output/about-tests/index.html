<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>About tests / Some monitoring guys</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <link rel="shortcut icon" href="/theme/favicon16.png" />
    <link rel="apple-touch-icon" href="/theme/favicon32.png.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/theme/favicon48.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/theme/favicon64.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/theme/favicon64.png" />
    <link href='http://fonts.googleapis.com/css?family=Lato:400,700,300italic,300' rel='stylesheet' type='text/css'>

    <!--        <link rel="stylesheet" href="/theme/css/bootstrap.min.css">-->
    
    <script>window.jQuery || document.write('<script src="/theme/js/vendor/jquery-1.11.1.min.js"><\/script>')</script>
      <script src="/theme/js/vendor/modernizr-latest.js"></script>
      <link rel="stylesheet" href="/theme/css/bootstrap.css">
      <!--    <link rel="stylesheet" href="/theme/css/bootstrap-responsive.min.css">-->
      <link rel="stylesheet" href="/theme/css/colorbox.css">
      <link rel="stylesheet" href="/theme/css/main.css">
      <!--        <script src="/theme/js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>-->
      <script src="/theme/js/vendor/jquery.lavalamp.js"></script>

      <script src="/theme/js/vendor/respond.min.js"></script> 
      
  </head>
  <body>
    <div id="Web_Map">
      <div class="row">
        <div class="col-sm-3">
          <div class="Content">
            <div class="Logo_Frame">
              <a href="http://shinken-solutions.com" target="_blank"> 
                <img alt="Logo Ninja Solutions Shinken Monitoring" class="Logo" src="/theme/img/ninjagrey.png">
                <p class="Title_Map">shinken-solutions.com</p>
                <p><tiny>Business-centric monitoring</tiny></p>
              </a>    
            </div>
          </div>
        </div>
        <div class="col-sm-3 ">
          <div class="Content">
            <div class="Logo_Frame">
              <a href="http://shinken-monitoring.org" target="_blank">
                <img alt="Logo Ninja Framework Shinken" class="Logo" src="/theme/img/ninjagreen.png">
                <p class="Title_Map">shinken-monitoring.org</p>
                <p>Shinken framework project</p>
              </a>
            </div>
          </div>
        </div>
        <div class="col-sm-3">
          <div class="Content">
            <div class="Logo_Frame">
              <a href="http://shinken.io" target="_blank">
                <img alt="Logo Ninja Framework Shinken" class="Logo" src="/theme/img/ninjagreen.png">
                <p class="Title_Map">shinken.io</p>
                <p>Shinken packages platform</p>
              </a>
            </div>
          </div>
        </div>
        <div class="col-sm-3">
          <div class="Content">
            <div class="Logo_Frame">
              <a href="http://shinkenlab.io" target="_blank">
                <img alt="Logo Ninja Framework Shinken" class="Logo" src="/theme/img/ninjagreen.png">
                <p class="Title_Map">shinkenlab.io</p>
                <p>Let's discuss about monitoring</p>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <nav class="navbar navbar-default" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://shinkenlab.io">
            <img alt="Logo Solutions Shinken" class="Logo" src="/theme/img/Logoframeworkblack.png">
          </a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav" id="Lavalamp">
            <li>
              <a href="http://shinkenlab.io">Home</a>
            </li>
            <li>
              <a href="http://www.shinken-monitoring.org/">Download</a>
            </li>
            <li>
              <a href="https://shinken.readthedocs.org/en/latest/">Docs</a>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown hide" id="MainDropDown">
              <img alt="Corners Shinken Solutions Dropdown" src="/theme/img/corners.png" id="CornerL">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                <span class="caret"></span>
                <img alt="Logo Shinken" src="/theme/img/logomonogrammewhite.png" class="Dropdown_Logo">
              </a>
              <img alt="Corners Shinken Solutions Dropdown" src="/theme/img/corners.png"  id="CornerR">
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!--[if lt IE 7]>
        <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->
    <div class="row">
      <div class="col-md-1"></div>
      <div class="container col-md-8">
        <div class="row">
          <div class="span2" id='content'>
          </div> <!-- logo+navigation span -->
          <div class="span10">
            <header id="site-header">
              <h1>
                <a href="">Some monitoring guys</a>
                <small>
                  <span class="divider">/</span> 
                </small>
              </h1>
              <!--<p>
                  
                  </p>-->
            </header>

            <div class="content">
<time datetime="2015-05-06T10:20:00"><div class="DateDay">06</div><span class="DateMounth"> May 2015 </span><span class="triangle"></span></time>

<section>
    <article>
        <header>
            <h2><a href="/about-tests/" rel="bookmark">About tests</a></h2>
	    <span class='author'>Jean Gabès</span>
        </header>
        
    <p>Hi :)</p>
<p>I'm starting a blog post serie about various stats. Let's start with one topic that remove lot of stress in the release: tests :D</p>
<h2>Tests: a long history</h2>
<p>Tests are not very fun, but they are so useful that no-one should avoid them</p>
<p>When Shinken code base was less than 5K lines (late 2009), we did not have any tests, it was a hobby project without even a name, and I did launch the daemon to look if all was OK.</p>
<p>But at this time <a href="https://github.com/lausser">Gerhard</a> did find a regression on the state logic, and it was the automatic test startup :)</p>
<p>So if you start a project, remember that after some few Kilo lines (or even before), you will need tests cases, and it's always harder to add them after coding, so maybe it's better to add them from the begining ;)</p>
<p>I take a little time to thanks again Gerhard for this, because without the test framework, the project should have been full of bugs and not as powerful :)</p>
<h2>Evolution</h2>
<p>But how the number of tests is evolving when the project gets bigger and bigger? Do they increase as the same rythme than the code size? Let's look at this :)</p>
<p>I did look at all our previous release since 2010 and count code line, and test lines ones. </p>
<p>(Note: I did remove the modules code/test line count in the pre-2.0 versions)</p>
<p><center><img src='/images/about-tests/ratio.png'></center></p>
<p>There are some period in the project:</p>
<ul>
<li>between 0.1 and 0.5: the tests did increase a lot compared to the code size. 0.6 did saw a refactoring pass</li>
<li>between 0.8 and 1.0: it's a "go production stabilization" pass, so lot of new tests to be sure we have everything under control for the production world ^^</li>
<li>since the 1.2      : we are still increasing the code base and test, but at the same rythm</li>
</ul>
<p>The tests code did saw some refactoring phase so they are still maintenable. Thanks a lot to <a href="https://github.com/gst">Gregory Stark</a> &amp; <a href="https://github.com/Seb-Solon">Seb</a> for the last refactoring, that allow to easily provide a test framework for the modules too :)</p>
<p>So in the end, it's quite classic, with more and more tests until everyone is used to add tests with the new features or when we find bugs. We did allow some test-less features in the past, but since the 2.0 PRs should be provided with tests (look at <a href="https://shinken.readthedocs.org/en/latest/15_development/hackingcode.html#development-rules">dev rules</a> for more about it).</p>
<p>Now tests are by default. And thanks to them we can refactor or add new features without fearing regressions :)</p>
<p>Our 60% ratio seems to be a great, and allow us to reach a great stability.</p>
<p>And you, what is the test ratio of your favorite project? Are the higer value the better? Feel free to share your experience in the comments :)</p>
<p>(next article: about ok/critical service state ratio in the real world ^^)</p>



<p style='border: 2px solid rgba(0,39,59,.2);border-radius: 4px;'><img style='width: 48px;'  data-role="user-avatar" data-user="94550631" src="//a.disquscdn.com/uploads/users/9455/631/avatar92.jpg?1392209481"><a href='#'> jean gabès </a>
<a href='mailto:j.gabes@shinken-solutions.com'><img src="/theme/img/Mail.png" /></a>
<a href='https://twitter.com/naparuba'><img src="/theme/img/Twitter.png" /></a>
<a href='http://www.twitch.tv/naparuba'><img src="/theme/img/Twitch.png" /></a>
<a href='https://github.com/naparuba'><img src="/theme/img/GitHub.png" /></a>
</p>
    <div id="FooterArticle">
        <p>Posted in: <a href="/category/talk.html">Talk</a></p>
        <p>Tagged as: <a href="/tag/shinken.html">shinken</a> / <a href="/tag/tests.html">tests</a> / <a href="/tag/project.html">project</a></p>
        <p>Wanna tell me what you think? <a href="/">Get in touch.</a></p>
    </div>

<hr/>

<div id="disqus_thread"></div>
  <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'shinkenlabio'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    


        </footer>
    </article>
</section>
    <div class="article_infos">
        <p>Posted in: <a href="/category/talk.html">Talk</a></p>
        <p>Tagged as: <a href="/tag/shinken.html">shinken</a> / <a href="/tag/tests.html">tests</a> / <a href="/tag/project.html">project</a></p>
    </div>

<!--article.locale_date-->            </div>
            <span id="ScrollTop">
              <img src="/theme/img/caret.png" alt="caret shinken">
            </span>
          </div> <!-- header+content+footer span -->

        </div> <!-- row -->
      </div> <!-- /container -->
      <!--<div class="col-md-1"></div>-->
      <div class="col-md-2">
        <div id="SocialIcons" class="row">
          <a href="https://twitter.com/shinken_monitor"><img src="/theme/img/twitter.png"></a>
          <a href="https://plus.google.com/u/0/+shinken/posts"><img src="/theme/img/google.png"></a>
          <a href="https://github.com/naparuba/shinken/"><img src="/theme/img/github.png"></a>
        </div>
        <div id="Search" class="row">
          <h2>Search</h2>
          <script>
            (function() {
            var cx = '005394482386049038212:vzp97eqtbku';
            var gcse = document.createElement('script');
            gcse.type = 'text/javascript';
            gcse.async = true;
            gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
            '//www.google.com/cse/cse.js?cx=' + cx;
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(gcse, s);
            })();
          </script>
          <gcse:search></gcse:search>
        </div>
        <div id="Archives" class="row">
          <a href="/"><h2>Archives</h2></a>
          <div id="LignArticle">
            <div id="Date" datetime="2015-05-06T10:20:00">06 May 2015 : </div>
            <a href="/about-tests/">
              About tests
            </a>
          </div>
          <div id="LignArticle">
            <div id="Date" datetime="2015-05-04T10:20:00">04 May 2015 : </div>
            <a href="/release-2-4/">
              2.4 release
            </a>
          </div>
          <div id="LignArticle">
            <div id="Date" datetime="2015-02-20T10:20:00">20 Feb 2015 : </div>
            <a href="/smart-agent/">
              Smart agent solution
            </a>
          </div>
          <div id="LignArticle">
            <div id="Date" datetime="2015-02-12T10:20:00">12 Feb 2015 : </div>
            <a href="/kernel-shinken-io/">
              kernel.shinken.io
            </a>
          </div>
          <div id="LignArticle">
            <div id="Date" datetime="2015-02-11T10:20:00">11 Feb 2015 : </div>
            <a href="/governance/">
              Governance
            </a>
          </div>
          <div id="LignArticle">
            <div id="Date" datetime="2015-01-30T10:20:00">30 Jan 2015 : </div>
            <a href="/pep8-compliant/">
              PEP8 compatibility
            </a>
          </div>
          <div id="LignArticle">
            <div id="Date" datetime="2015-01-19T10:20:00">19 Jan 2015 : </div>
            <a href="/release-2-2/">
              2.2 release
            </a>
          </div>
          <div id="LignArticle">
            <div id="Date" datetime="2015-01-13T10:20:00">13 Jan 2015 : </div>
            <a href="/news-and-announcements-2015/">
              Some news and announcements for 2015
            </a>
          </div>
          <div id="LignArticle">
            <div id="Date" datetime="2014-09-08T10:20:00">08 Sep 2014 : </div>
            <a href="/online-course-6-lan-scalability/">
              Online course 6: LAN scalability, adding pollers
            </a>
          </div>
          <div id="LignArticle">
            <div id="Date" datetime="2014-08-07T00:00:00">07 Aug 2014 : </div>
            <a href="/online-course-5-monitoring-plugins/">
              Online course 5: Monitoring Plugins
            </a>
          </div>
          <div id="LignArticle">
            <div id="Date" datetime="2014-04-16T10:20:00">16 Apr 2014 : </div>
            <a href="/2-0-release/">
              2.0 release
            </a>
          </div>
          <div id="LignArticle">
            <div id="Date" datetime="2014-04-08T00:00:00">08 Apr 2014 : </div>
            <a href="/20-rc-last-patch-before-release/">
              2.0 RC: last patch to test :)
            </a>
          </div>
          <div id="LignArticle">
            <div id="Date" datetime="2014-03-19T10:20:00">19 Mar 2014 : </div>
            <a href="/online-course-4-high-availability/">
              Online course 4: High Availability
            </a>
          </div>
          <div id="LignArticle">
            <div id="Date" datetime="2014-03-11T10:20:00">11 Mar 2014 : </div>
            <a href="/online-course-3-migration-to-20/">
              Online course 3: 1.4 to 2.0 migration
            </a>
          </div>
          <div id="LignArticle">
            <div id="Date" datetime="2014-03-07T10:20:00">07 Mar 2014 : </div>
            <a href="/online-course-2-webui/">
              Online course 2: installing WebUI
            </a>
          </div>
          <div id="LignArticle">
            <div id="Date" datetime="2014-03-04T10:20:00">04 Mar 2014 : </div>
            <a href="/online-course-1-installation/">
              Online course 1: installing shinken 2.0
            </a>
          </div>
          <div id="LignArticle">
            <div id="Date" datetime="2014-02-17T10:20:00">17 Feb 2014 : </div>
            <a href="/2-0-and-the-project/">
              The 2.0 RC version and the project
            </a>
          </div>
          <div id="LignArticle">
            <div id="Date" datetime="2014-02-16T10:20:00">16 Feb 2014 : </div>
            <a href="/byebye-wordpress/">
              Byebye wordpress
            </a>
          </div>
        
        </div>
        <hr class="clear">
      </div>
    </div>
    <div class="col-md-1"></div>
    
    <footer id="site-footer">
      <div class="row">
        <div class="col-sm-4">
          <img src="/theme/img/LogoFrameworkWhite.png" alt="Logo Shinken solutions" class="Logo">   
        </div>
        <ul class="col-sm-2 col-xs-6">
          <li>
            <a target="_blank" href="">Home</a>
          </li> 
          <li> 
            <a target="_blank" href="http://shinken-monitoring.org/">Download</a>
          </li>
          <li>
            <a target="_blank" href="https://shinken.readthedocs.org/en/latest/">Docs</a>
          </li> 
        </ul>   
        <ul class="col-sm-2 col-xs-6">
          <li>
            <a target="_blank" href="mailto:naparuba@gmail.com">Contact Us</a>
          </li>
        </ul>                   
        <div class="col-sm-4 col-xs-12">
	  <!--                                <p>2014 © All rights reserved | SAS SHINKEN Solutions | RCS Bordeaux 794 549 543 |</p>-->
        </div>
      </div>

      <!--
          <p>
            <a href="" target="_blank">
              
            </a> Shinken framework team /
            <a href="/">Archives</a>
            / Powered by
            <a href="https://github.com/getpelican/pelican" target="_blank">
              Pelican
            </a>
          </p>
	  -->
    </footer>
    
    <script>
      
      $( document ).ready(function() {


      
      $( "#Menu li a" ).click(function() {
      $(this).next("ul").slideToggle("fast");   
      });   

      // Show Case : Commande la direction des hovers    
      $(function(){
      $(' #da-thumbs > li ').each( function() { $(this).hoverdir(); } );
  });

  $('#Lavalamp').lavalamp({
  easing:"swing",
  duration:300 
  });

  $('.lavalamp-object').css({
  "border-bottom":" 3px solid #ff8400"
  })

  $( ".dropdown" ).click(function() {
  /*$( "#Web_Map" ).slideToggle( "fast");*/
  });


  $( "#Lavalamp li" ).bind('mouseenter', function()  {
  $(this).next(".HoverMenu").slideDown( "fast")
  });

  $( "#Lavalamp li" ).next(".HoverMenu").bind('mouseleave', function()  {
  $(this).slideUp( "fast")
  });


  var HeightSlide = $("#Slide1").innerHeight();
  $( ".Gradient" ).css("height",HeightSlide+"px");

  $( window ).resize(function() {
  var HeightSlide = $("#Slide1").innerHeight();
  $( ".Gradient" ).css("height",HeightSlide+"px");    
  });

  });

</script>
<!--        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>-->


<!--        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.0/js/bootstrap.min.js"></script>-->
<script src="/theme/js/vendor/jquery.colorbox-min.js"></script>
<script>$('body').popover || document.write('<script src="/theme/js/vendor/bootstrap.min.js"><\/script>')</script>
  <script src="/theme/js/vendor/jquery.colorbox-min.js"></script>
  <script src="/theme/js/main.js"></script>

  <!--
      <script>
        var _gaq=[['_setAccount','UA-48477803-1'],['_trackPageview']];
        (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
        g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
        s.parentNode.insertBefore(g,s)}(document,'script'));
      </script>
      -->

  
</body>
</html>